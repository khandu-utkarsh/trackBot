openapi: 3.0.3
info:
  contact:
    email: utkarshkhandelwal2011@gmail.com
    name: Utkarsh Khandelwal
  description: |
    Comprehensive API for the TrackBot Application helping in logging workouts, exercises and nutrition using AI.

    This API provides endpoints for:
    - User management
    - Workout tracking and management
    - Exercise logging (cardio and weight training)
    - AI conversation and messaging

    All timestamps are in ISO 8601 format (UTC).
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  title: TrackBot App API
  version: 1.0.0
servers:
- description: Development server
  url: http://localhost:8080/api/v1
- description: Production server
  url: https://api.trackbotapp.com/v1
tags:
- description: User management operations
  name: Users
- description: Workout session management
  name: Workouts
- description: Exercise tracking and logging
  name: Exercises
- description: AI conversation management
  name: Conversations
- description: Message handling within conversations
  name: Messages
paths:
  /users:
    get:
      description: Retrieve a list of all users in the system
      operationId: listUsers
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/User"
                type: array
          description: List of users retrieved successfully
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: List all users
      tags:
      - Users
    post:
      description: Create a new user account
      operationId: createUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateUserRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateUserResponse"
          description: User created successfully
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: User already exists
        "400":
          $ref: "#/components/responses/BadRequest"
        "409":
          $ref: "#/components/responses/Conflict"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new user
      tags:
      - Users
  /users/{userId}:
    delete:
      description: Delete a user and all associated data
      operationId: deleteUser
      parameters:
      - description: User ID
        example: 1
        in: path
        name: userId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "204":
          $ref: "#/components/responses/NoContent"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete user
      tags:
      - Users
    get:
      description: Retrieve a specific user by their ID
      operationId: getUserById
      parameters:
      - description: User ID
        example: 1
        in: path
        name: userId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: User details retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Get user by ID
      tags:
      - Users
  /users/email/{email}:
    get:
      description: Retrieve a user by their email address
      operationId: getUserByEmail
      parameters:
      - description: User email address
        example: user@example.com
        in: path
        name: email
        required: true
        schema:
          format: email
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: User details retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Get user by email
      tags:
      - Users
  /users/{userId}/workouts:
    get:
      description: Retrieve all workouts for a specific user with optional date filtering
      operationId: listWorkouts
      parameters:
      - description: User ID
        example: 1
        in: path
        name: userId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      - description: Filter by year (YYYY format)
        example: "2024"
        in: query
        name: year
        required: false
        schema:
          pattern: "^\\d{4}$"
          type: string
      - description: Filter by month (MM format)
        example: "01"
        in: query
        name: month
        required: false
        schema:
          pattern: "^(0[1-9]|1[0-2])$"
          type: string
      - description: Filter by day (DD format)
        example: "15"
        in: query
        name: day
        required: false
        schema:
          pattern: "^(0[1-9]|[12][0-9]|3[01])$"
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Workout"
                type: array
          description: List of workouts retrieved successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: List workouts for a user
      tags:
      - Workouts
    post:
      description: Create a new workout session for a user
      operationId: createWorkout
      parameters:
      - description: User ID
        example: 1
        in: path
        name: userId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateWorkoutRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateWorkoutResponse"
          description: Workout created successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new workout
      tags:
      - Workouts
  /workouts/{workoutId}:
    delete:
      description: Delete a workout and all associated exercises
      operationId: deleteWorkout
      parameters:
      - description: Workout ID
        example: 1
        in: path
        name: workoutId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "204":
          $ref: "#/components/responses/NoContent"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete workout
      tags:
      - Workouts
    get:
      description: Retrieve a specific workout by its ID
      operationId: getWorkoutById
      parameters:
      - description: Workout ID
        example: 1
        in: path
        name: workoutId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workout"
          description: Workout details retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Get workout by ID
      tags:
      - Workouts
    put:
      description: Update an existing workout
      operationId: updateWorkout
      parameters:
      - description: Workout ID
        example: 1
        in: path
        name: workoutId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkoutRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workout"
          description: Workout updated successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Update workout
      tags:
      - Workouts
  /workouts/{workoutId}/exercises:
    get:
      description: Retrieve all exercises for a specific workout
      operationId: listExercises
      parameters:
      - description: Workout ID
        example: 1
        in: path
        name: workoutId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Exercise"
                type: array
          description: List of exercises retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: List exercises for a workout
      tags:
      - Exercises
    post:
      description: Add a new exercise to a workout (cardio or weight training)
      operationId: createExercise
      parameters:
      - description: Workout ID
        example: 1
        in: path
        name: workoutId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateExerciseRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateExerciseResponse"
          description: Exercise created successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new exercise
      tags:
      - Exercises
  /exercises/{exerciseId}:
    delete:
      description: Delete an exercise from a workout
      operationId: deleteExercise
      parameters:
      - description: Exercise ID
        example: 1
        in: path
        name: exerciseId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "204":
          $ref: "#/components/responses/NoContent"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete exercise
      tags:
      - Exercises
    get:
      description: Retrieve a specific exercise by its ID
      operationId: getExerciseById
      parameters:
      - description: Exercise ID
        example: 1
        in: path
        name: exerciseId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Exercise"
          description: Exercise details retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Get exercise by ID
      tags:
      - Exercises
    put:
      description: Update an existing exercise
      operationId: updateExercise
      parameters:
      - description: Exercise ID
        example: 1
        in: path
        name: exerciseId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateExerciseRequest"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Exercise"
          description: Exercise updated successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Update exercise
      tags:
      - Exercises
  /users/{userId}/conversations:
    get:
      description: Retrieve all conversations for a specific user
      operationId: listConversations
      parameters:
      - description: User ID
        example: 1
        in: path
        name: userId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Conversation"
                type: array
          description: List of conversations retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: List conversations for a user
      tags:
      - Conversations
    post:
      description: Start a new conversation with the AI assistant
      operationId: createConversation
      parameters:
      - description: User ID
        example: 1
        in: path
        name: userId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateConversationRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateConversationResponse"
          description: Conversation created successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new conversation
      tags:
      - Conversations
  /conversations/{conversationId}:
    delete:
      description: Delete a conversation and all associated messages
      operationId: deleteConversation
      parameters:
      - description: Conversation ID
        example: 1
        in: path
        name: conversationId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "204":
          $ref: "#/components/responses/NoContent"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete conversation
      tags:
      - Conversations
    get:
      description: Retrieve a specific conversation by its ID
      operationId: getConversationById
      parameters:
      - description: Conversation ID
        example: 1
        in: path
        name: conversationId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Conversation"
          description: Conversation details retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Get conversation by ID
      tags:
      - Conversations
  /conversations/{conversationId}/messages:
    get:
      description: Retrieve all messages in a specific conversation
      operationId: listMessages
      parameters:
      - description: Conversation ID
        example: 1
        in: path
        name: conversationId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Message"
                type: array
          description: List of messages retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: List messages in a conversation
      tags:
      - Messages
    post:
      description: Send a new message in a conversation
      operationId: createMessage
      parameters:
      - description: Conversation ID
        example: 1
        in: path
        name: conversationId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateMessageRequest"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateMessageResponse"
          description: Message created successfully
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Create a new message
      tags:
      - Messages
  /messages/{messageId}:
    delete:
      description: Delete a message from a conversation
      operationId: deleteMessage
      parameters:
      - description: Message ID
        example: 1
        in: path
        name: messageId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "204":
          $ref: "#/components/responses/NoContent"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Delete message
      tags:
      - Messages
    get:
      description: Retrieve a specific message by its ID
      operationId: getMessageById
      parameters:
      - description: Message ID
        example: 1
        in: path
        name: messageId
        required: true
        schema:
          format: int64
          minimum: 1
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Message"
          description: Message details retrieved successfully
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
      summary: Get message by ID
      tags:
      - Messages
components:
  parameters:
    UserIdPath:
      description: User ID
      example: 1
      in: path
      name: userId
      required: true
      schema:
        format: int64
        minimum: 1
        type: integer
    WorkoutIdPath:
      description: Workout ID
      example: 1
      in: path
      name: workoutId
      required: true
      schema:
        format: int64
        minimum: 1
        type: integer
    ExerciseIdPath:
      description: Exercise ID
      example: 1
      in: path
      name: exerciseId
      required: true
      schema:
        format: int64
        minimum: 1
        type: integer
    ConversationIdPath:
      description: Conversation ID
      example: 1
      in: path
      name: conversationId
      required: true
      schema:
        format: int64
        minimum: 1
        type: integer
    MessageIdPath:
      description: Message ID
      example: 1
      in: path
      name: messageId
      required: true
      schema:
        format: int64
        minimum: 1
        type: integer
    EmailPath:
      description: User email address
      example: user@example.com
      in: path
      name: email
      required: true
      schema:
        format: email
        type: string
    YearQuery:
      description: Filter by year (YYYY format)
      example: "2024"
      in: query
      name: year
      required: false
      schema:
        pattern: "^\\d{4}$"
        type: string
    MonthQuery:
      description: Filter by month (MM format)
      example: "01"
      in: query
      name: month
      required: false
      schema:
        pattern: "^(0[1-9]|1[0-2])$"
        type: string
    DayQuery:
      description: Filter by day (DD format)
      example: "15"
      in: query
      name: day
      required: false
      schema:
        pattern: "^(0[1-9]|[12][0-9]|3[01])$"
        type: string
  responses:
    BadRequest:
      content:
        application/json:
          examples:
            invalid_input:
              summary: Invalid input
              value:
                code: INVALID_INPUT
                message: The provided input is invalid
            validation_failed:
              summary: Validation failed
              value:
                code: VALIDATION_FAILED
                message: Request validation failed
                details:
                  field: email
                  reason: Invalid email format
          schema:
            $ref: "#/components/schemas/Error"
      description: Bad request - invalid input or parameters
    Unauthorized:
      content:
        application/json:
          example:
            code: UNAUTHORIZED
            message: Authentication is required to access this resource
          schema:
            $ref: "#/components/schemas/Error"
      description: Unauthorized - authentication required
    Forbidden:
      content:
        application/json:
          example:
            code: FORBIDDEN
            message: You do not have permission to access this resource
          schema:
            $ref: "#/components/schemas/Error"
      description: Forbidden - insufficient permissions
    NotFound:
      content:
        application/json:
          examples:
            user_not_found:
              summary: User not found
              value:
                code: USER_NOT_FOUND
                message: The requested user was not found
            workout_not_found:
              summary: Workout not found
              value:
                code: WORKOUT_NOT_FOUND
                message: The requested workout was not found
            exercise_not_found:
              summary: Exercise not found
              value:
                code: EXERCISE_NOT_FOUND
                message: The requested exercise was not found
            conversation_not_found:
              summary: Conversation not found
              value:
                code: CONVERSATION_NOT_FOUND
                message: The requested conversation was not found
            message_not_found:
              summary: Message not found
              value:
                code: MESSAGE_NOT_FOUND
                message: The requested message was not found
          schema:
            $ref: "#/components/schemas/Error"
      description: Resource not found
    Conflict:
      content:
        application/json:
          examples:
            duplicate_email:
              summary: Duplicate email
              value:
                code: DUPLICATE_EMAIL
                message: A user with this email already exists
          schema:
            $ref: "#/components/schemas/Error"
      description: Conflict with current state of resource
    UnprocessableEntity:
      content:
        application/json:
          example:
            code: UNPROCESSABLE_ENTITY
            message: The request is well-formed but contains semantic errors
          schema:
            $ref: "#/components/schemas/Error"
      description: Unprocessable Entity - request is valid but cannot be processed
    InternalServerError:
      content:
        application/json:
          example:
            code: INTERNAL_ERROR
            message: An internal server error occurred
          schema:
            $ref: "#/components/schemas/Error"
      description: Internal server error
    NoContent:
      description: Operation completed successfully with no content to return
  schemas:
    User:
      properties:
        id:
          description: Unique identifier for the user. Created by the database.
          example: 1
          format: int64
          type: integer
        email:
          description: User's email address. This is the primary key for the user
            and obtained from the Google Auth.
          example: user@gmail.com
          format: email
          type: string
        created_at:
          description: Timestamp when the user was created. Created by the database.
          example: 2024-01-15T10:30:00Z
          format: date-time
          type: string
      required:
      - created_at
      - email
      - id
      type: object
    CreateUserRequest:
      properties:
        email:
          description: User's email address. This is the primary key for the user
            and obtained from the Google Auth.
          example: user@gmail.com
          format: email
          type: string
      required:
      - email
      type: object
    CreateUserResponse:
      properties:
        id:
          description: ID of the created user. Created by the database.
          example: 1
          format: int64
          type: integer
        email:
          description: User's email address. This is the primary key for the user
            and obtained from the Google Auth.
          example: user@gmail.com
          format: email
          type: string
      required:
      - email
      - id
      type: object
    Workout:
      properties:
        id:
          description: Unique identifier for the workout. Created by the database.
          example: 1
          format: int64
          type: integer
        user_id:
          description: ID of the user who owns this workout. Obtained from the user
            table.
          example: 1
          format: int64
          type: integer
        created_at:
          description: Timestamp when the workout was created. Created by the database.
          example: 2024-01-15T10:30:00Z
          format: date-time
          type: string
        updated_at:
          description: Timestamp when the workout was last updated. Created by the
            database.
          example: 2024-01-15T10:30:00Z
          format: date-time
          type: string
      required:
      - created_at
      - id
      - updated_at
      - user_id
      type: object
    WorkoutListParams:
      properties:
        user_id:
          description: ID of the user to filter workouts
          example: 1
          format: int64
          type: integer
        year:
          description: Filter by year (YYYY format)
          example: "2024"
          pattern: "^\\d{4}$"
          type: string
        month:
          description: Filter by month (MM format)
          example: "01"
          pattern: "^(0[1-9]|1[0-2])$"
          type: string
        day:
          description: Filter by day (DD format)
          example: "15"
          pattern: "^(0[1-9]|[12][0-9]|3[01])$"
          type: string
      type: object
    CreateWorkoutRequest:
      properties:
        user_id:
          description: ID of the user creating the workout
          example: 1
          format: int64
          type: integer
      type: object
    UpdateWorkoutRequest:
      properties:
        user_id:
          description: ID of the user who owns the workout
          example: 1
          format: int64
          type: integer
      type: object
    CreateWorkoutResponse:
      properties:
        id:
          description: ID of the created workout
          example: 1
          format: int64
          type: integer
      required:
      - id
      type: object
    ExerciseType:
      description: Type of exercise
      enum:
      - cardio
      - weights
      type: string
    BaseExercise:
      properties:
        id:
          description: Unique identifier for the exercise. Created by the database.
          example: 1
          format: int64
          type: integer
        workout_id:
          description: ID of the workout this exercise belongs to. Obtained from the
            workout table.
          example: 1
          format: int64
          type: integer
        name:
          description: Name of the exercise
          example: Push-ups
          type: string
        type:
          $ref: "#/components/schemas/ExerciseType"
        notes:
          description: Additional notes about the exercise
          example: Focus on form
          type: string
        created_at:
          description: Timestamp when the exercise was created. Created by the database.
          example: 2024-01-15T10:30:00Z
          format: date-time
          type: string
      required:
      - created_at
      - id
      - name
      - type
      - workout_id
      type: object
    CardioExercise:
      allOf:
      - $ref: "#/components/schemas/BaseExercise"
      - properties:
          type:
            enum:
            - cardio
            type: string
          distance:
            description: Distance covered in meters
            example: 5000.0
            format: float
            minimum: 0
            type: number
          duration:
            description: Duration in seconds
            example: 1800
            minimum: 1
            type: integer
        required:
        - distance
        - duration
        type: object
    WeightExercise:
      allOf:
      - $ref: "#/components/schemas/BaseExercise"
      - properties:
          type:
            enum:
            - weights
            type: string
          sets:
            description: Number of sets
            example: 3
            minimum: 1
            type: integer
          reps:
            description: Number of repetitions per set
            example: 12
            minimum: 1
            type: integer
          weight:
            description: Weight in kilograms
            example: 25.5
            format: float
            minimum: 0
            type: number
        required:
        - reps
        - sets
        - weight
        type: object
    Exercise:
      discriminator:
        mapping:
          cardio: "#/components/schemas/CardioExercise"
          weights: "#/components/schemas/WeightExercise"
        propertyName: type
      oneOf:
      - $ref: "#/components/schemas/CardioExercise"
      - $ref: "#/components/schemas/WeightExercise"
    CreateCardioExerciseRequest:
      properties:
        name:
          description: Name of the exercise
          example: Running
          type: string
        type:
          enum:
          - cardio
          type: string
        notes:
          description: Additional notes
          example: Morning run in the park
          type: string
        distance:
          description: Distance in meters
          example: 5000.0
          format: float
          minimum: 0
          type: number
        duration:
          description: Duration in seconds
          example: 1800
          minimum: 1
          type: integer
      required:
      - distance
      - duration
      - name
      - type
      type: object
    CreateWeightExerciseRequest:
      properties:
        name:
          description: Name of the exercise
          example: Bench Press
          type: string
        type:
          enum:
          - weights
          type: string
        notes:
          description: Additional notes
          example: Focus on controlled movement
          type: string
        sets:
          description: Number of sets
          example: 3
          minimum: 1
          type: integer
        reps:
          description: Number of repetitions per set
          example: 12
          minimum: 1
          type: integer
        weight:
          description: Weight in kilograms
          example: 80.0
          format: float
          minimum: 0
          type: number
      required:
      - name
      - reps
      - sets
      - type
      - weight
      type: object
    CreateExerciseRequest:
      discriminator:
        mapping:
          cardio: "#/components/schemas/CreateCardioExerciseRequest"
          weights: "#/components/schemas/CreateWeightExerciseRequest"
        propertyName: type
      oneOf:
      - $ref: "#/components/schemas/CreateCardioExerciseRequest"
      - $ref: "#/components/schemas/CreateWeightExerciseRequest"
    UpdateExerciseRequest:
      discriminator:
        mapping:
          cardio: "#/components/schemas/CreateCardioExerciseRequest"
          weights: "#/components/schemas/CreateWeightExerciseRequest"
        propertyName: type
      oneOf:
      - $ref: "#/components/schemas/CreateCardioExerciseRequest"
      - $ref: "#/components/schemas/CreateWeightExerciseRequest"
    CreateExerciseResponse:
      properties:
        id:
          description: ID of the created exercise
          example: 1
          format: int64
          type: integer
      required:
      - id
      type: object
    Conversation:
      properties:
        id:
          description: Unique identifier for the conversation. Created by the database.
          example: 1
          format: int64
          type: integer
        user_id:
          description: ID of the user who owns this conversation. Obtained from the
            user table.
          example: 1
          format: int64
          type: integer
        title:
          description: Title of the conversation. This is the title of the conversation.
          example: Workout Planning Session
          type: string
        created_at:
          description: Timestamp when the conversation was created. Created by the
            database.
          example: 2024-01-15T10:30:00Z
          format: date-time
          type: string
      required:
      - created_at
      - id
      - title
      - user_id
      type: object
    CreateConversationRequest:
      properties:
        title:
          description: Title of the conversation
          example: Workout Planning Session
          type: string
      required:
      - title
      type: object
    CreateConversationResponse:
      properties:
        id:
          description: ID of the created conversation. Created by the database.
          example: 1
          format: int64
          type: integer
      required:
      - id
      type: object
    MessageType:
      description: Type of message sender
      enum:
      - user
      - assistant
      - system
      type: string
    Message:
      properties:
        id:
          description: Unique identifier for the message. Created by the database.
          example: 1
          format: int64
          type: integer
        conversation_id:
          description: ID of the conversation this message belongs to. Obtained from
            the conversation table.
          example: 1
          format: int64
          type: integer
        user_id:
          description: ID of the user who sent this message. Obtained from the user
            table.
          example: 1
          format: int64
          type: integer
        content:
          description: Content of the message. This is the message that the user or
            assistant sends.
          example: I want to start a new workout plan
          type: string
        message_type:
          $ref: "#/components/schemas/MessageType"
        created_at:
          description: Timestamp when the message was created. Created by the database.
          example: 2024-01-15T10:30:00Z
          format: date-time
          type: string
      required:
      - content
      - conversation_id
      - created_at
      - id
      - message_type
      - user_id
      type: object
    CreateMessageRequest:
      properties:
        content:
          description: Content of the message. This is the message that the user or
            assistant sends.
          example: I want to start a new workout plan
          type: string
        message_type:
          $ref: "#/components/schemas/MessageType"
      required:
      - content
      - message_type
      type: object
    CreateMessageResponse:
      properties:
        id:
          description: ID of the created message. Created by the database.
          example: 1
          format: int64
          type: integer
      required:
      - id
      type: object
    Error:
      properties:
        code:
          description: Error code
          example: INVALID_INPUT
          type: string
        message:
          description: Human-readable error message
          example: The provided input is invalid
          type: string
        details:
          additionalProperties: true
          description: Additional error details
          type: object
      required:
      - code
      - message
      type: object
